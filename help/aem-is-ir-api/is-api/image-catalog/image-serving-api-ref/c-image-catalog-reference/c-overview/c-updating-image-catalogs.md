---
description: 當伺服器偵測到主要目錄屬性檔案已變更時，會持續監視目錄資料夾，並自動重新載入影像目錄，包括關聯的目錄資料檔案。
solution: Experience Manager
title: 更新影像目錄
feature: Dynamic Media Classic,SDK/API
role: Developer,User
exl-id: b520b4f3-6717-4768-99e2-78a76d1ede24
source-git-commit: 206e4643e3926cb85b4be2189743578f88180be7
workflow-type: tm+mt
source-wordcount: '306'
ht-degree: 0%

---

# 更新影像目錄{#updating-image-catalogs}

當伺服器偵測到主要目錄屬性檔案已變更時，會持續監視目錄資料夾，並自動重新載入影像目錄，包括關聯的目錄資料檔案。

若要更新伺服器上的影像目錄，請先取代所有需要變更的目錄資料檔案，然後取代（或「接觸」以更新檔案日期）目錄屬性檔案以觸發目錄重新載入。

## 增量更新 {#section-2c0f2c1b8480486d86920b5f2cfe72d2}

載入及處理大型影像目錄可能會對伺服器造成大量負載，且可能對即時服務作業產生負面影響。 若要將這種影響降至最低，建議實作累加式目錄更新機制，其作用如下：

包含所有影像的主要目錄檔案會在每晚低流量時段載入。 如果白天需要在影像目錄中新增或變更記錄，則會建立另一個影像資料檔案，其中僅包含新記錄或已變更的記錄。 此檔案在中註冊為次要影像資料檔案 `attribute::CatalogFile`. 伺服器會偵測目錄屬性檔案已變更，然後檢查哪些目錄資料檔案已變更。 如果尚未接觸主要影像資料檔案，伺服器只會載入或重新載入增量資料檔案。 因為此檔案通常比主目錄檔案小得多，與重新載入主目錄相比，對伺服器的影響要小得多。

增量更新可大幅減少在大量流量期間對伺服器的影響。 建議在低流量時段定期將增量目錄資料檔案合併到主目錄資料檔案中，以維持最佳伺服器效能。
