---
description: 當伺服器檢測到主目錄屬性檔案已經改變時，該伺服器連續監視該目錄資料夾並自動重新載入包括相關目錄資料檔案的影像目錄。
solution: Experience Manager
title: 更新影像目錄
feature: Dynamic Media Classic,SDK/API
role: Developer,User
exl-id: b520b4f3-6717-4768-99e2-78a76d1ede24
source-git-commit: 206e4643e3926cb85b4be2189743578f88180be7
workflow-type: tm+mt
source-wordcount: '306'
ht-degree: 0%

---

# 更新影像目錄{#updating-image-catalogs}

當伺服器檢測到主目錄屬性檔案已經改變時，該伺服器連續監視該目錄資料夾並自動重新載入包括相關目錄資料檔案的影像目錄。

要更新伺服器上的映像目錄，請首先替換所有需要更改的目錄資料檔案，然後替換（或「觸摸」，以更新檔案日期）目錄屬性檔案以觸發目錄重新載入。

## 增量更新 {#section-2c0f2c1b8480486d86920b5f2cfe72d2}

載入和處理大型影像目錄可以給伺服器帶來大量負載，並且可能對即時服務操作產生負面影響。 為盡量減少此影響，建議實施增量目錄更新機制，其工作方式如下：

包含所有映像的主目錄檔案在低通信量小時內每晚載入。 如果在白天需要添加或更改映像目錄中的記錄，則會建立另一個僅包含新記錄或更改記錄的映像資料檔案。 此檔案已註冊為中的次映像資料檔案 `attribute::CatalogFile`。 伺服器檢測到目錄屬性檔案已更改，然後檢查哪些目錄資料檔案已更改。 如果未接觸主映像資料檔案，則伺服器只載入或重新載入增量資料檔案。 由於此檔案通常比主目錄檔案小得多，因此與重新載入主目錄相比，對伺服器的影響大大減小。

增量更新可顯著降低在流量過大時對伺服器的影響。 建議在低通信量時間內定期將增量目錄資料檔案合併到主目錄資料檔案中，以保持最佳伺服器效能。
